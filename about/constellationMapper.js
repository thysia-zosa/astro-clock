let consText= `Andromeda;α;2388;2178;3;1
Andromeda;β;2290;2046;3;2
Andromeda;γ;2179;1973;3;3
Andromeda;δ;2359;2103;2;4
Andromeda;μ;2268;2082;2;5
Andromeda;ν;2244;2102;1;6
Aquila;α;2198;2958;5;1
Aquila;β;2231;2983;2;2
Aquila;γ;2171;2942;3;3
Aquila;δ;2145;3082;2;4
Aquila;ε;1997;2941;1;5
Aquila;ζ;2021;2952;3;6
Aquila;η;2263;3067;2;7
Aquila;θ;2350;3052;2;8
Aquila;λ;2110;3244;2;9
Aquarius;88;3224;2519;2;1
Aquarius;α;2683;2681;3;2
Aquarius;β;2679;2865;3;3
Aquarius;γ;2732;2626;2;4
Aquarius;δ;3069;2572;2;5
Aquarius;ε;2589;3079;2;6
Aquarius;ζ;2722;2588;1;7
Aquarius;η;2734;2562;1;8
Aquarius;λ;2893;2531;2;9
Aquarius;τ;3011;2584;1;10
Aries;c;2250;1788;2;3
Aries;α;2358;1854;3;1
Aries;β;2405;1869;3;2
Auriga;α;1876;1803;5;1
Auriga;β;1801;1785;4;2
Auriga;ε;1907;1787;3;3
Auriga;η;1905;1759;2;4
Auriga;θ;1801;1704;3;5
Auriga;ι;1947;1679;3;6
Bootes;α;1210;2597;6;1
Bootes;β;1476;2530;2;2
Bootes;γ;1418;2498;2;3
Bootes;δ;1445;2606;2;4
Bootes;ε;1340;2603;3;5
Bootes;η;1167;2546;3;6
Bootes;ρ;1348;2552;2;7
Capricornus;α;2507;3227;2;1
Capricornus;β;2549;3260;2;2
Capricornus;γ;2901;2970;2;3
Capricornus;δ;2912;2929;3;4
Capricornus;ζ;2972;3127;2;5
Capricornus;θ;2784;3134;1;6
Capricornus;ι;2841;3056;1;7
Capricornus;ψ;2846;3381;1;8
Capricornus;ω;2910;3392;1;9
Cassiopeia;α;2096;2147;3;1
Cassiopeia;β;2076;2189;3;2
Cassiopeia;γ;2053;2136;3;3
Cassiopeia;δ;2047;2103;3;4
Cassiopeia;ε;2005;2088;2;5
Cepheus;α;1986;2358;3;1
Cepheus;β;1935;2305;2;2
Cepheus;γ;1908;2210;2;3
Cepheus;ζ;2053;2331;2;4
Cepheus;η;1966;2388;2;5
Cepheus;θ;1946;2391;1;6
Cepheus;ι;2001;2264;2;7
Cetus;α;2452;1535;3;1
Cetus;β;3151;1940;3;2
Canis Maior;α;1537;882;7;1
Canis Maior;β;1664;831;4;2
Canis Maior;δ;1326;659;4;3
Canis Maior;η;1269.709291;637.536636;0;4
Canis Maior;ο;1383;723;0;5
Canis Maior;σ;1350.431805;612.4268716;0;6
Canis Minor;α;1417;1372;2;1
Canis Minor;β;1479;1397;0;2
Cancer;α;1230;1622;5;1
Cancer;β;1322;1495;3;2
Cancer;γ;1355;1684;1;3
Cancer;δ;1323;1655;2;4
Cancer;ι;1406;1758;1;5
Corona Borealis;α;1435;2696;2;1
Corona Borealis;β;1438;2663;1;2
Corona Borealis;γ;1450;2713;3;3
Corona Borealis;δ;1464;2726;2;4
Corona Borealis;ε;1487;2729;2;5
Corona Borealis;θ;1464;2650;1;6
Corona Borealis;ι;1514;2703;1;7
Crater;α;464;1840;1;1
Crater;β;328;1885;1;2
Crater;γ;448;1991;1;3
Crater;δ;522;1971;1;4
Corvus;β;295;2428;1;1
Corvus;γ;438;2294;2;2
Corvus;δ;472;2374;3;3
Corvus;ε;301;2266;3;4
Canes Venatici;α;1330;2317;3;1
Cygnus;α;2066;2513;2;1
Cygnus;β;2032;2755;3;2
Cygnus;γ;2070;2577;4;3
Cygnus;δ;1983;2570;2;4
Cygnus;ε;2153;2598;3;5
Cygnus;ζ;2229;2583;3;6
Cygnus;η;2053;2654;3;7
Cygnus;ι;1932;2521;2;8
Cygnus;κ;1909;2512;2;9
Delphinus;α;2284;2779;2;1
Delphinus;β;2290;2797;2;2
Delphinus;γ;2300;2762;2;3
Delphinus;δ;2301;2780;2;4
Delphinus;ε;2308;2843;1;5
Draco;α;1605;2317;1;1
Draco;β;1756;2539;1;2
Draco;γ;1795;2549;2;3
Draco;δ;1861;2388;3;4
Draco;ε;1879;2355;3;5
Draco;ζ;1752;2410;2;6
Draco;η;1697;2432;2;7
Draco;θ;1661;2445;2;8
Draco;ι;1626;2416;3;9
Draco;κ;1624;2226;1;10
Draco;λ;1619;2177;2;11
Draco;ν;1762;2511;2;12
Draco;ξ;1792;2497;2;13
Draco;χ;1814;2351;1;14
Equuleus;α;2488;2799;2;1
Equuleus;γ;2418;2765;2;2
Equuleus;δ;2430;2755;2;3
Eridanus;β;2047;1135;1;1
Eridanus;γ;2444;1107;1;2
Gemini;α;1577;1691;0;1
Gemini;β;1534;1662;3;2
Gemini;γ;1677;1462;3;3
Gemini;δ;1569;1566;0;4
Gemini;ε;1679;1576;4;5
Gemini;η;1757;1533;4;6
Gemini;μ;1733;1535;4;7
Gemini;ξ;1644;1419;2;8
Hercules;α;1647;2961;3;1
Hercules;β;1540;2829;2;2
Hercules;γ;1505;2847;3;3
Hercules;δ;1675;2827;2;4
Hercules;ε;1654;2747;2;5
Hercules;ζ;1612;2726;3;6
Hercules;η;1642;2651;2;7
Hercules;θ;1792;2696;2;8
Hercules;ι;1764;2602;2;9
Hercules;π;1702;2691;3;10
Hercules;σ;1639;2610;2;11
Hercules;τ;1630;2563;2;12
Hercules;φ;1606;2567;2;13
Hydra;α;884;1482;2;1
Leo;α;1084;1821;1;1
Leo;β;1028;2163;2;2
Leo;γ;1164;1903;1;3
Leo;δ;1120;2062;4;4
Leo;ε;1256;1840;4;5
Leo;ζ;1209;1914;3;6
Leo;η;1145;1849;3;7
Leo;θ;1054;2049;3;8
Leo;μ;1269;1871;3;9
Lepus;α;1963;838;2;1
Lepus;β;2000;765;2;2
Lepus;γ;1901;708;2;3
Lepus;δ;1855;749;2;4
Lepus;ε;2152;749;3;5
Lepus;ζ;1874;903;3;6
Lepus;η;1820;916;2;7
Lepus;μ;2072;896;2;8
Libra;α;824;3101;2;1
Libra;β;1031;3093;2;2
Libra;γ;1035;3249;2;3
Libra;σ;704;3336;2;4
Lyra;α;1877;2673;3;1
Lyra;β;1917;2726;3;2
Lyra;γ;1939;2728;2;3
Lyra;δ;1918;2686;2;4
Lyra;ζ;1896;2683;5;5
Ophiuchus;α;1712;2997;2;1
Ophiuchus;β;1733;3121;2;2
Ophiuchus;δ;1325;3155;1;3
Ophiuchus;ε;1334;3180;1;4
Ophiuchus;ζ;1374;3326;3;5
Ophiuchus;η;1516;3490;3;6
Ophiuchus;θ;1541;3748;3;7
Ophiuchus;κ;1572;3017;2;8
Ophiuchus;ν;1795;3387;3;9
Orion;α;1819;1322;3;1
Orion;β;2028;1068;2;2
Orion;γ;1936;1315;2;3
Orion;δ;1922;1202;2;4
Orion;ε;1906;1184;5;5
Orion;ζ;1887;1169;5;6
Orion;ι;1919;1098;4;7
Orion;κ;1863;1017;3;8
Pegasus;α;2542;2382;4;1
Pegasus;β;2382;2346;3;2
Pegasus;γ;2564;2156;3;3
Pegasus;ε;2498;2670;3;4
Pegasus;ζ;2579;2478;3;5
Pegasus;η;2343;2389;3;6
Pegasus;θ;2596;2614;3;7
Pegasus;μ;2412;2393;3;8
Perseus;α;2030;1916;2;1
Perseus;β;2111;1866;3;2
Perseus;γ;2028;1962;2;3
Perseus;δ;2017;1881;2;4
Perseus;ε;2037;1798;4;5
Perseus;ζ;2090;1726;3;6
Perseus;η;2026;1992;3;7
Perseus;ξ;2058;1758;2;8
Perseus;ο;2107;1743;3;9
Perseus;ρ;2131;1854;3;10
Pisces;α;2621;1716;2;1
Pisces;γ;2728;2375;1;2
Pisces;δ;2656;2015;2;3
Pisces;ε;2638;1964;2;4
Pisces;η;2503;1904;0;5
Pisces;θ;2686;2325;1;6
Pisces;ι;2703;2279;2;7
Pisces;κ;2768;2341;1;8
Pisces;λ;2766;2276;1;9
Pisces;μ;2629;1856;2;10
Pisces;ν;2621;1811;1;11
Pisces;ξ;2632;1750;1;12
Pisces;ο;2563;1822;1;13
Pisces;σ;2336;2049;1;14
Pisces;υ;2373;1993;1;15
Pisces;φ;2409;1997;1;16
Pisces;ω;2687;2203;1;17
Puppis;ξ;1081;809;1;1
Puppis;π;1091.791534;709.7178897;0;2
Puppis;ρ;982;885;1;3
Scorpius;α;1179;3689;1;1
Scorpius;β;1118;3449;1;2
Scorpius;δ;1052;3500;2;3
Scorpius;π;991;3585;0;4
Scorpius;σ;1136;3642;3;5
Scorpius;τ;1192.31605;3734.020931;5;6
Serpens;α;1301;2941;3;1
Serpens;β;1380;2835;3;2
Serpens;γ;1411;2851;0;3
Serpens;ε;1306;2982;0;4
Serpens;η;1898;3247;0;5
Serpens;θ;2026;3101;0;6
Serpens;κ;1407;2809;0;7
Serpens;μ;1228;3095;0;8
Serpens;ν;1587;3435;0;9
Serpens;ξ;1672;3506;0;10
Sagitta;α;2107;2858;3;1
Sagitta;β;2113;2863;3;2
Sagitta;γ;2150;2814;0;3
Sagitta;δ;2125;2842;0;4
Sagittarius;δ;1976.557915;3840.526532;3;1
Sagittarius;λ;1993;3771;2;2
Sagittarius;ξ;2163;3612;2;3
Sagittarius;ο;2211;3617;2;4
Sagittarius;π;2236;3589;2;5
Sagittarius;σ;2184;3763;1;6
Sagittarius;τ;2269.900997;3781.67413;1;7
Sagittarius;φ;2123;3799;2;8
Taurus;α;2068;1503;1;1
Taurus;β;1887;1613;2;2
Taurus;γ;2121;1513;1;3
Taurus;δ;2101;1532;1;4
Taurus;ε;2076;1545;2;5
Taurus;ζ;1867;1518;2;6
Taurus;η;2154;1657;0;7
Taurus;θ;2093;1504;0;8
Taurus;λ;2199;1504;0;9
Taurus;ο;2335;1535;0;10
Triangulum;α;2313;1924;0;1
Triangulum;β;2240;1921;3;2
Triangulum;γ;2241;1899;2;3
Ursa Maior;α;1556;2139;2;1
Ursa Maior;β;1508;2124;3;2
Ursa Maior;γ;1472;2191;3;3
Ursa Maior;δ;1505;2220;0;4
Ursa Maior;ε;1502;2271;2;5
Ursa Maior;ζ;1505;2313;5;6
Ursa Maior;η;1469;2368;4;7
Ursa Minor;α;1805;2196;2;1
Ursa Minor;β;1698;2294;2;2
Ursa Minor;γ;1698;2323;2;3
Ursa Minor;δ;1796;2230;2;4
Ursa Minor;ε;1778;2266;3;5
Ursa Minor;ζ;1740;2289;2;6
Ursa Minor;η;1746;2313;2;7
Virgo;α;667;2642;2;1
Virgo;β;831;2161;2;2
Virgo;γ;791;2385;2;3
Virgo;δ;885;2426;1;4
Virgo;ε;1005;2421;4;5
Virgo;ζ;875;2606;3;6
Virgo;η;792;2288;3;7
Virgo;θ;749;2531;2;8
Virgo;ν;910;2145;4;9`;

let consParts = consText.split('\n').map(e=>e.split(';'));

const constellations = [];

for (const row of consParts) {
  let name = row[0];
  let consItem = constellations.find(e=>e.name===name);
  if (!consItem) {
    consItem = {name: name, stars: []};
    constellations.push(consItem);
  }
  let newStar = {id: row[1], mag: row[4], x: row[2], y: row[3]};
  if (row[6]) newStar.name = row[6];
  consItem.stars.push(newStar);
}

let astsText = `Andromeda;αδβγ,βμν
Aquarius;εβαγζηλτδ!
Aquila;γαβ,εζδηθ,αδλ
Aries;βαc
Auriga;αβθ!ιηεα
Bootes;ηαεδβγρα
Cancer;αδγι,δβ
Canis Maior;βαοδη,δσ
Canis Minor;αβ
Capricornus;αβψωζδγιθβ
Cassiopeia;βαγδε
Cepheus;θηαβγιζα,βι
Corona Borealis;ιεδγαβθ
Corvus;βδγεβ
Crater;αβγδα
Cygnus;κιδγεζ,αγηβ
Delphinus;εβαγδβ
Draco;λκαιθηζχεδξνβγξ
Equuleus;αδγ
Gemini;ημεαβδγξ
Hercules;γβζηστφ,ηπθι,πεδα,εζ
Leo;εμζγδβθαηγ
Lepus;ηζαμ,αβε,βγδ
Libra;γβασ
Lyra;αζβγδζ
Ophiuchus;ηνβακδεζηθ
Orion;ιεδγαζε,ζκβδ
Pegasus;αγ!β,εθζαβμ,βη
Perseus;ηγαβρ,αδεξζο
Pisces;φυσφηοαξνμεδωιθγκλι
Puppis;ρξπ
Sagitta;αδγ,δβ
Sagittarius;τσπξ,σφλδ
Scorpius;τασβ,σδ,σπ
Serpens;κβαεμ,βγ,θηνξ
Taurus;βεη,εδγλο,γθαζ
Triangulum;αβγα
Ursa Maior;ηζεδγβαδ
Ursa Minor;αδεζβγηζ
Virgo;αθγηβν,γδε,θζ`;
    
let astsParts = astsText.split('\n').map(e=>e.split(';'));

for (const row of astsParts) {
  let name = row[0];
  let lines = row[1].split(',');
  let consItem = constellations.find(e=>e.name===name);
  consItem.asterism = [];
  for (const line of lines) {
    let points = [];
    for (let i = 0; i < line.length; i++) {
      const starId = line[i];
      let star = consItem.stars.find(s=>s.id===starId);
      if (!star) {
        switch (name) {
          case 'Aquarius':// 88
            star = consItem.stars.find(s=>s.id==='88');
            break;
          case 'Auriga':// Beta Tauri: Taurus;β;1887;1613;12;2
            star = {x: '1887', y: '1613'};
            break;
          case 'Pegasus':// Alpha Andromedae: Andromeda;α;2388;2178;9;1
            star = {x: '2388', y: '2178'};
            break;
            default:
            star = {x: '0', y: '0'};
            break;
        }
      }
      points.push(...[i === 0 ? 'M' : 'L', star.x, star.y]);
    }
    consItem.asterism.push(points.join(' '));
  }
}

// document.body.innerHTML = "";
// document.body.appendChild(document.createTextNode(JSON.stringify(obj, null, 4)));

console.log(`const constellations = ${JSON.stringify(constellations, null, 2)};\n\nexport default constellations;`);
